<html>
<head>
	<meta charset="utf-8">
	<title>Alpine linux setup</title>
	<link rel="icon" href="https://maximalisimus.github.io/Articles/image/Alpine-Linux-image/alpine-logo.svg" type=" image/svg+xml">
	<!--
		<link rel="icon" href="https://maximalisimus.github.io/Articles/image/favicon.png">
		<link rel="shortcut icon" href="js-css/404-2.ico" Type="image/x-icon">
		type="image/png"
		<link rel="shortcut icon" href="favicon.png" type="image/png">
		<link rel="icon" href="https://www.webpupil.ru/favicon.svg" type=" image/svg+xml">
	-->
	<link rel="stylesheet" href="https://maximalisimus.github.io/Articles/html/main.css" type="text/css">	
	<link rel="stylesheet" href="https://maximalisimus.github.io/Articles/html/zoom.css" type="text/css">
	<link rel="stylesheet" href="https://maximalisimus.github.io/Articles/html/table.css" type="text/css">
	<link rel="stylesheet" href="https://maximalisimus.github.io/Articles/html/frame.css">
	<link rel="stylesheet" href="https://maximalisimus.github.io/Articles/html/ol-li.css" type="text/css">
	<!-- <link rel="stylesheet" href="html/ol-li.css" type="text/css"> -->
	<script src="https://maximalisimus.github.io/Articles/html/jquery.2.2.0.min.js"></script>
	<script type="text/javascript" src="https://maximalisimus.github.io/Articles/html/litezoom.js"></script>
</head>
<body>
	<div class="site">
		<div class="header">
			<div id="logo">
				<p style="margin:10px; padding:0px;">Alpine linux setup mini-wiki.</p>
			</div>
		</div>
		<div class="content">
			<center>
				<div class="images">
					<img src="https://maximalisimus.github.io/Articles/image/Alpine-Linux-image/alpine-logo.jpg" width="500px"/>
				</div>
				<div style="clear:both"></div>
			</center>
		</div>
		<div class="content">
			<p><a name="oglavlenie"></a></p>
			<h1>Alpine Linux. Маленький, да удаленький.</h1>
			<h2>Оглавление</h2>
			<ol>
				<li><a href="#part1">Видео. Вводная часть.</a></li>
				<li><a href="#part2">Базовая установка.</a></li>
				<li><a href="#part3">Аудио.</a></li>
				<li><a href="#part4">Пользователи.</a></li>
				<li><a href="#part5">Настройка сети.</a></li>
				<li><a href="#part6">Маршрутизация.</a></li>
				<li><a href="#part7">Локализация.</a></li>
				<li><a href="#part8">Загрузчики.</a></li>
				<li><a href="#part9">Wireguard.</a></li>
				<li><a href="#part10">Wireguard ifupdown-ng.</a></li>
				<li><a href="#part11">Docker, docker-compose.</a></li>
				<li><a href="#part12">Docker изоляция контейнеров.</a></li>
				<li><a href="#part13">Принтеры. Archlinux recomends.</a></li>
				<li><a href="#part14">Flatpak.</a></li>
			</ol>
		</div>
		<div class="content">
			<p><a name="part1"></a></p>
			<h1>Alpine Linux. Рекомендации по установке.</h1>
			<h2>Содержание.</h2>
			<h2>Видео. Вводная часть.</h2>
			<iframe width="720" height="480" src="https://www.youtube.com/embed/VffFuW6yzRk">
			</iframe>
			<h2>Обратите внимание.</h2>
			<p><b>Первое что вам необходимо усвоить - это то, что у вас не будет красивого grub и некоторых стандартных утилит, к которым вы привыкли в том же Debian.</b></p>
			<p><span style="color:blue;">По крайней мере, у меня при попытке добавить картинку или тему к любому загрузчику полностью выводил его из строя. Восстановить систему и убрать картинку у меня так толком и не вышло. Мне пришлось полностью переустанавливать систему. <b>Благо это была виртуалка</b>.</span> На реальном компьютере будет немногим сложнее.</p>
			<p><u>Второе - у вас не будет полноценной обработки чего-либо, потому что многие библиотеки специально урезаны ради экономии места на жестком диске. Т.е. как минимум для полноценной компиляции она точно не подойдёт.</u>
			</br><span style="color:red;">
			Однако, это же и преимущество, которое говорит о том, что система подойдёт либо для очень старых компьютеров, либо там, где важен каждый магабайт.</span></p>
			<p><u>Это специфичная система которая подойдёт для узкого круга задач.</u> <b>Однако, это не означает, что её нельзя настроить как полноценную Desktop-ую версию.</b></p>
			<p>Возможно с первого раза вы даже не всё поймёте в этой системе и не всё сможете запустить или настроить.</p>
			<p><b>Всё приходит с ошибками и практикой. Поэтому не отчаивайтесь и для начала испытайте её на виртуальной машине, чтобы определиться - подойдёт такая система для вас и ваших задач или нет.</b></p>
			<p>Во всем привычном Debian или Ubuntu при установке Xorg и менеджера дисплея автоматически устанавливаются минимальный набор графических, офисных программ и системных утилит.</br>
			<span style="color:Red;">Здесь же в Alpine linux вам буквально придётся выбирать и устанавливать все указанные утилиты вручную.</span><b>Что даёт вам гораздо больший контроль над системой по сравнению с указанными.</b></p>
			<p>Самое интересное как всегда напоследок. Оставляю также и список 30 категорий на 70~80% проверенных и найденных программ и утилит в реп-ях Alpine. Поэтому просто копируйте нужное и вставляйте в команду установки: «apk add program-name». Поэтому если пакетный менеджер что-нибудь не находит и ругается - смело убирайте эту программу из установки.</p>
			<p><a href="https://maximalisimus.github.io/Articles/webpage/Alpine-Linux-List-Packages.html">Большой список программ и утилит для Alpine Linux 30 различных категорий</a>.</p>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
			<hr>
			<p><a name="part2"></a></p>
			<h2>Базовая установка.</h2>
			<p>Первым делом для входа в систему введите логин:</p>
			<p class="codes">
				$ root
			</p>
			<p>Для установки системы введите команду:</p>
			<p class="codes">
				$ setup-alpnie
			</p>
			<p>Следуйте указаниям мастера-установщика.</p>
			<p class="codes">
				us</br>
				us</br>
				eth0</br>
				dhcpcd</br>
				no</br>
				proxy - none</br>
				openssh</br>
				sda</br>
				sys</br>
				y</br>
				reboot</br>
			</p>
			<p>После перезагрузки введите: «<b>root</b>».</p>
			<p>Далее обновите пакеты, установите редактор nano, раскоментируйте все репозитории и снова обновитесь.</p>
			<p class="codes">
				$ apk update</br>
				$ apk add nano</br>
				$ nano /etc/apk/repositories</br>
				# uncomment all</br>
				$ apk update</br>
				$ apk upgrade
			</p>
			<p>Установим минимальный набор утилит, шрифтов и тем.</p>
			<p class="codes">
				$ apk add sed attr dialog dialog-doc bash bash-doc bash-completion grep grep-doc \</br>
				util-linux util-linux-doc pciutils usbutils binutils findutils readline \</br>
				man-pages lsof lsof-doc less less-doc nano nano-doc curl curl-doc \</br>
				coreutils coreutils-doc</br></br>
				$ apk add terminus-font ttf-inconsolata ttf-dejavu font-misc-cyrillic font-mutt-misc \</br>
				font-screen-cyrillic font-winitzki-cyrillic font-cronyx-cyrillic terminus-font \</br>
				font-sony-misc font-daewoo-misc font-jis-misc font-isas-misc
			</p>
			<p>Настройка skel директории.</p>
			<p class="codes">
				$ mkdir -p /etc/skel</br>
				$ nano /etc/skel/.Xresources</br></br>

				Xft.antialias: 0</br>
				Xft.rgba:      rgb</br>
				Xft.autohint:  0</br>
				Xft.hinting:   1</br>
				Xft.hintstyle: hintslight
			</p>
			<p>Установка и автозапуск аудио Alsa.</p>
			<p class="codes">
				$ apk add alsa-utils alsa-utils-doc alsa-lib alsaconf</br>
				$ rc-service alsa start</br>
				$ rc-update add alsa</br>
			</p>
			<p>cshrc и profile.</p>
			<p class="codes">
				$ nano /root/.cshrc</br>
				unsetenv DISPLAY || true</br>
				HISTCONTROL=ignoreboth</br></br>

				$ cp /root/.cshrc /root/.profile
			</p>
			<p>Xorg, Display manager - XFCE4.</p>
			<p class="codes">
				$ setup-xorg-base</br>
				$ apk add xfce4 thunar-volman faenza-icon-theme</br>
				$ rc-service dbus start</br>
				$ rc-update add dbus</br>
				$ rc-service udev start</br>
				$ rc-update add udev</br>
				$ apk add accountsservice ttf-cantarell librsvg gnome-icon-theme adwaita-icon-theme lightdm lightdm-gtk-greeter lightdm-openrc</br>
				$ rc-update add lightdm</br>
				$ apk add polkit consolekit2 xterm</br>
				$ apk add firefox</br></br>

				$ reboot
			</p>
			<p>И мы получаем примерно вот такую картину.</p>
			<div id="page" class="clearfix">
				<img src="https://maximalisimus.github.io/Articles/image/Alpine-Linux-image/alpine-1.png" class="fz__minimized" alt="клик для увеличения" title="Alpine Вход в систему." />
				<img src="https://maximalisimus.github.io/Articles/image/Alpine-Linux-image/alpine-2.png" class="fz__minimized" alt="клик для увеличения" title="Alpine Desktop" />
			</div>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
			<hr>
			<p><a name="part3"></a></p>
			<h2>Аудио.</h2>
			<p>Мышь, тачпад, регулятор громкости...</p>
			<p class="codes">
				$ apk add xf86-input-synaptics alsa-utils alsa-plugins volumeicon
			</p>
			<p>Pulseaudio.</p>
			<p class="codes">
				$ apk add pavucontrol pulseaudio pulseaudio-alsa pulseaudio-equalizer pulseaudio-jack pulsemixer pamixer pulseview
			</p>
			<p>xdg, polkit, gvfs.</p>
			<p class="codes">
				$ apk add xdg-user-dirs xdg-utils polkit gvfs gvfs-afc gvfs-mtp gvfs-smb acpid avahi cronie</br></br>
				$ rc-service acpid start</br>
				$ rc-service avahi-daemon start</br>
				$ rc-service cronie start</br>
				$ rc-update add acpid</br>
				$ rc-update add avahi-daemon
			</p>
			<p>Архиваторы, архивы.</p>
			<p class="codes">
				apk add ark xarchiver file-roller</br>
				apk add unzip zip p7zip
			</p>
			<p>Шрифты, темы.</p>
			<p class="codes">
				apk add ttf-liberation ttf-dejavu terminus-font fontforge</br>
				apk add breeze breeze-grub breeze-icons faenza-icon-theme adwaita-icon-theme
			</p>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
			<hr>
			<p><a name="part4"></a></p>
			<h2>Пользователи.</h2>
			<p>Установка утилиты для добавлению пользователей.</p>
			<p class="codes">
				apk add libuser
			</p>
			<p>Настройка skel и default.</p>
			<p class="codes">
				$ touch /etc/login.defs</br>
				$ mkdir -p /etc/default/</br>
				$ touch /etc/default/useradd</br>
				$ mkdir -p /etc/skel/</br>
				$ touch /etc/skel/.logout</br>
				$ nano /etc/skel/.cshrc</br></br>
				set autologout = 30</br>
				set prompt = "\$ "</br>
				set ignoreeof</br></br>
				$ cp /etc/skel/.cshrc /etc/skel/.profile
			</p>
			<p>Добавление пользователя, настройка пароля групп.</p>
			<p class="codes">
				$ adduser -D -k /etc/skel -h /home/mikl -s /bin/bash mikl</br>
				$ chown YourUserName /home/YourUserName && chmod 700 /home/YourUsername</br>
				# or</br>
				$ chown YourUserName /home/YourUserName && chmod 750 /home/YourUsername</br></br>
				# или так</br>
				$ adduser -D -h /home/mikl -s /bin/bash mikl</br></br>
				$ echo "mikl:1234" | chpasswd</br>
				$ for u in $(ls /home); do for g in disk usb cdrw ping kvm lp floppy audio cdrom dialout video netdev games users wheel; do addgroup $u $g; done;done</br></br>
				# Перечисление всех групп.</br>
				# disk lp floppy audio cdrom dialout ping tape video netdev kvm games cdrw apache usb users
			</p>
			<p>Изменить shell по умолчанию.</p>
			<p class="codes">
				$ lchsh</br>
				$ lchsh root</br>
				$ lchsh mikl</br>
			</p>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
			<hr>
			<p><a name="part5"></a></p>
			<h2>Настройка сети.</h2>
			<p>Имя машины, dns-адреса.</p>
			<p class="codes">
				$ echo "shortname" > /etc/hostname</br>
				$ nano /etc/hosts</br>
				$ nano /etc/resolv.conf</br></br>
				nameserver 8.8.8.8</br>
				nameserver 8.8.4.4
			</p>
			<p>Если вдруг нужен ipv6.</p>
			<p class="codes">
				# Enabling IPv6 (Optional)</br>
				$ modprobe ipv6</br>
				$ echo "ipv6" >> /etc/modules
			</p>
			<p><b>Обязательно</b>, настройка адресов - вручную или автоматически - на ваше усмотрение.</p>
			<p class="codes">
				nano /etc/network/interfaces
			</p>
			<p>Network Manager.</p>
			<p class="codes">
				$ apk add networkmanager networkmanager-bash-completion networkmanager-cli networkmanager-qt network-manager-applet</br></br>
				# Для KDE воспользуйтесь этой утилитой</br>
				$ plasma-nm network-manager-applet</br></br>

				$ rc-service networkmanager start</br>
				$ adduser YourUsername plugdev</br></br>

				# Если WiFi секция не нужна, то просто не копируйте её и пропустите.</br>
				<b># Обратите внимание, что флаг managed установлен в true, т.е. все соединения управляются вручную. Это обязательно.</b></br>
				$ nano /etc/NetworkManager/NetworkManager.conf</br></br>

				[main]</br>
				dhcp=internal</br>
				plugins=ifupdown,keyfile</br></br>

				[ifupdown]</br>
				managed=true</br></br>

				[device]</br>
				wifi.scan-rand-mac-address=yes</br>
				wifi.backend=wpa_supplicant</br></br>

				# Now you need to stop conflicting services:</br>
				$ rc-service networking stop</br>
				$ rc-service wpa_supplicant stop</br>
				# Now restart NetworkManager:</br>
				$ rc-service networkmanager restart</br></br>

				$ rc-update add networkmanager</br></br>

				$ rc-service iwd start</br>
				$ rc-service networkmanager restart</br></br>

				# rc-update del networking boot</br>
				# rc-update del wpa_supplicant boot</br>
			</p>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
			<hr>
			<p><a name="part6"></a></p>
			<h2>Маршрутизация.</h2>
			<p>Таблицы маршрутизации, добавление в автозапуск.</p>
			<p class="codes">
				$ apk add iptables</br>
				$ apk add ip6tables</br>
				$ apk add iptables-doc</br></br>

				$ rc-update add iptables</br>
				$ /etc/init.d/iptables save</br>
				# lbu ci</br></br>

				$ rc-update add ip6tables</br>
				/etc/init.d/ip6tables save</br>
				# lbu ci</br></br>

				$ apk add iputils iproute2
			</p>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
			<hr>
			<p><a name="part7"></a></p>
			<h2>Лоаклизация.</h2>
			<p>Установка утилит для локализации. Время. Временная зона.</p>
			<p class="codes">
				$ apk add tzdata musl-locales musl-locales-lang</br>
				$ cp /usr/share/zoneinfo/Europe/Moscow /etc/localtime</br>
				$ echo "Europe/Moscow" >  /etc/timezone
			</p>
			<p>Настройка локали.</p>
			<p class="codes">
				$ nano /etc/profile.d/locale.sh</br></br>

				export TZ=Europe/Moscow</br>
				export CHARSET=ru_RU.UTF-8</br>
				export LANG=ru_RU.UTF-8</br>
				export LANGUAGE=ru_RU.UTF-8</br>
				export LC_ALL=ru_RU.UTF-8
			</p>
			<p>Настройка клавиатуры и русской раскладки.</p>
			<p class="codes">
				$ apk add terminus-font kbd-bkeymaps kbd</br>
				$ wget -O ru-utf.map.gz https://aur.archlinux.org/cgit/aur.git/plain/ru-utf.map.gz?h=kbd-ru-keymaps
			</p>
			<p>Применение локализаций + автозагрузка.</p>
			<p class="codes">
				$ sed -i 's/unicode="NO"/unicode="YES"/' /etc/rc.conf</br>
				$ cat /etc/conf.d/consolefont</br></br>

				$ rc-update add consolefont boot</br></br>

				$ cp ru-utf.map.gz /usr/share/keymaps/xkb/</br>
				$ sed -i 's/keymap="us"/keymap="ru-utf"/' /etc/conf.d/loadkeys</br>
				$ sed -i 's/dumpkeys_charset="no"/dumpkeys_charset="yes"/' /etc/conf.d/loadkeys</br>
				$ rc-update add loadkeys boot
			</p>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
			<hr>
			<p><a name="part8"></a></p>
			<h2>Загрузчики.</h2>
			<p>Установка rEfind.</p>
			<p class="codes">
				$ apk install refind</br>
				$ refind-install --alldrivers</br>
				$ echo '"Alpine" "modules=loop,squashfs,sd-mod,usb-storage quiet initrd=\boot\intel-ucode.img initrd=\boot\amd-ucode.img initrd=\boot\initramfs-lts"' > /media/sdXY/boot/refind_linux.conf
			</p>
			<p>Syslinux.</p>
			<p class="codes">
				$ apk add syslinux</br>
				$ dd bs=440 count=1 conv=notrunc if=/usr/share/syslinux/gptmbr.bin of=/dev/sda</br>
				# или</br>
				$ dd bs=440 count=1 conv=notrunc if=/usr/share/syslinux/mbr.bin of=/dev/sda</br></br>
				
				$ extlinux --install /boot</br>
				</br>
			</p>
			<p>UEFI syslinux.</p>
			<p class="codes">
				$ mkdir -p /mnt/EFI/syslinux</br>
				$ cp /usr/share/syslinux/efi64/* /mnt/EFI/syslinux/</br>
				$ cp /boot/extlinux.conf /mnt/EFI/syslinux/syslinux.cfg</br>
				$ cp /boot/vmlinuz* /mnt/</br>
				$ cp /boot/initramfs* /mnt/</br>
				# You may need to modify /mnt/EFI/syslinux/syslinux.cfg to change the paths to absolute paths (just add a / in front of the vmlinuz/initramfs entries), or copy the files to /mnt/EFI/syslinux instead (XXX: untested).
			</p>
			<p>GRUB.</p>
			<p class="codes">
				$ apk del syslinux</br>
				$ apk add grub grub-bios os-prober breeze-grub</br></br>

				$ apk add grub-efi</br>
				$ grub-install /dev/sda # sdb, sdc...</br>
				# GRUB UEFI.</br>
				$ grub-install --target=x86_64-efi --efi-directory=/boot</br></br>
				$ grub-mkconfig -o /boot/grub/grub.cfg</br></br>

				$ nano /etc/default/grub</br>
				GRUB_DISABLE_OS_PROBER=false</br></br>

				$ grub-mkconfig -o /boot/grub/grub.cfg
			</p>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
			<hr>
			<p><a name="part9"></a></p>
			<h2>Wireguard.</h2>
			<p>Установка и настройка.</p>
			<p class="codes">
				$ apk add wireguard-tools</br>
				$ modprobe wireguard</br>
				# /etc/modules</br>
				$ echo "wireguard" >> /etc/modules
			</p>
			<p>Генерирование ключей, запуск.</p>
			<p class="codes">
				$ wg genkey | tee privatekey | wg pubkey > publickey</br></br>

				Interface]</br>
				Address = 10.123.0.1/24</br>
				ListenPort = 45340</br>
				PrivateKey = SG1nXk2+kAAKnMkL5aX3NSFPaGjf9SQI/wWwFj9l9U4= # the key from the previously generated privatekey file</br>
				PostUp = iptables -A FORWARD -i %i -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE;iptables -A FORWARD -o %i -j ACCEPT</br>
				PostDown = iptables -D FORWARD -i %i -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE;iptables -D FORWARD -o %i -j ACCEPT</br></br>

				$ wg-quick up wg0</br>
				$ wg-quick down wg0
			</p>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
			<hr>
			<p><a name="part10"></a></p>
			<h2>Wireguard ifupdown-ng.</h2>
			<p>Установка и настройка интерфейса.</p>
			<p class="codes">
$ apk add wireguard-tools-wg</br>
$ nano /etc/network/interfaces</br></br>

auto wg0</br>
iface wg0 inet static</br>
	requires eth0</br>
	use wireguard</br>
	address 192.168.42.1</br>
	post-up iptables -A FORWARD -i wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE;iptables -A FORWARD -o wg0 -j ACCEPT</br>
	post-down iptables -D FORWARD -i wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE;iptables -D FORWARD -o wg0 -j ACCEPT</br>
			</p>
			<p>Включить перенаправления.</p>
			<p class="codes">
				$ nano /etc/sysctl.conf</br>
				# or</br>
				$ mkdir -p /etc/sysctl.d/ && nano /etc/sysctl.d/forwarding.conf</br></br>
				net.ipv4.ip_forward = 1
			</p>
			<p>Запуск, остановка.</p>
			<p class="codes">
				$ ifup wg0</br>
				$ ifdown wg0
			</p>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
			<hr>
			<p><a name="part11"></a></p>
			<h2>Docker, docker-compose.</h2>
			<p>Установка и настрнойка.</p>
			<p class="codes">
				$ apk add docker</br>
				$ addgroup username docker</br></br>

				$ rc-update add docker boot</br>
				$ service docker start</br>

				$ sysctl -w kernel.grsecurity.chroot_deny_chmod=0</br>
				$ sysctl -w kernel.grsecurity.chroot_deny_mknod=0</br></br>

				$ apk add docker-compose</br>
				# Или установка из pip:</br>
				$ apk add py-pip python3-dev libffi-dev openssl-dev gcc libc-dev make</br>
				$ pip3 install docker-compose
			</p>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
			<hr>
			<p><a name="part12"></a></p>
			<h2>Docker изоляция контейнеров.</h2>
			<p class="codes">
				$ adduser -SDHs /sbin/nologin dockremap</br>
				$ addgroup -S dockremap</br>
				$ echo dockremap:$(cat /etc/passwd|grep dockremap|cut -d: -f3):65536 >> /etc/subuid</br>
				$ echo dockremap:$(cat /etc/passwd|grep dockremap|cut -d: -f4):65536 >> /etc/subgid</br>
				$ add to /etc/docker/daemon.json</br></br>

				{</br>
						"userns-remap": "dockremap"</br>
				}</br>
				You may also consider these options : '</br></br>

					   "experimental": false,</br>
					   "live-restore": true,</br>
					   "ipv6": false,</br>
					   "icc": false,</br>
					   "no-new-privileges": false
			</p>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
			<hr>
			<p><a name="part13"></a></p>
			<h2>Принтеры. Archlinux recomends.</h2>
			<p>Установка.</p>
			<p class="codes">
				apk add cups cups-lang cups-libs cups-pdf print-manager
			</p>
			<p>По умолчанию файлы PDF хранятся в /var/spool/cups-pdf/имя_пользователя.</br>
				Местоположение можно изменить в /etc/cups/cups-pdf.conf.</p>
			<p class="codes">
				# Добавить локальный принтер - Cups-PDF</br>
				$ mkdir ~/cups-pdf</br>
				# Настраиваем конфиг</br>
				$ sudo nano /etc/cups/cups-pdf.conf</br>
				...</br>
				Out /home/mikl/cups-pdf/</br>
				...</br>
				TitlePref 1</br>
				...</br>
				DecodeHexStrings 1</br>
				...</br></br>

				http://localhost:631/</br></br>

				# cups.service</br>
				# cups.socket
			</p>
			<p>При активации cups.socket и выключении cups.service, CUPS запускается только тогда, когда программа хочет его использовать.</p>
			<p>Gutenprint Printer Drivers: Canon, Epson, Lexmark, Sony, Olympus, PCL.</p>
			<p class="codes">
				sudo pacman -S gutenprint foomatic-db-gutenprint-ppds
			</p>
			<p>Foomatic Printer Drivers.</br>
			Чтобы использовать foomatic, установите foomatic-db-engine и по крайней мере один из пакетов:</br>
			foomatic-db - коллекция файлов XML, используемая foomatic-db-engine для генерации файлов PPD.</br>
			foomatic-db-ppds - прекомпилированные файлы PPD.</br>
			foomatic-db-nonfree - коллекция файлов XML под несвободными лицензиями от производителей принтеров, используемая foomatic-db-engine для генерации файлов PPD.</br>
			foomatic-db-nonfree-ppds - прекомпилированные файлы PPD под несвободными лицензиями.
			</p>
			<p>Инструмент для управления заданиями печати и принтерами (KDE):</p>
			<p class="codes">
				print-manager
			</p>
			<p>Инструмент настройки принтера GTK+ и апплет состояния (GNOME и другие):</p>
			<p class="codes">
				system-config-printer
			</p>
			<p>Настройки сервера CUPS находятся в <b>/etc/cups/cupsd.conf</b> и <b>/etc/cups/cups-files.conf</b>.</p>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
			<hr>
			<p><a name="part14"></a></p>
			<h2>Flatpak.</h2>
			<p>Установка Flatpak.</p>
			<p class="codes">
				apk add flatpak
			</p>
			<p>Рекомендовано добавить пользователя в группу.</p>
			<p class="codes">
				adduser &lt;YourUsername&gt; flatpak
			</p>
			<p>Добавление репозитория.</p>
			<p class="codes">
				flatpak remote-add --user --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
			</p>
			<p><a href="#oglavlenie">Перейти к оглавлению</a>.</p>
		</div>
		<div class="content">
			<p>Ну а сегодня на этом всё. Всем Добра и Удачи!</p>
		</div>	
		<div class="about">
			<p>Copyright &copy; 21.03.2022 by <a href="mailto:maximalis171091@yandex.ru">Mikhail Artamonov</a></p>
		</div>
		</br>
	</div>
	<script type="text/javascript">$('.fz__minimized').litezoom({speed:400, viewTitle:true});</script>
</body>
</html>
